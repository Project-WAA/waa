<ui:composition template="/templates/masterLayout.xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui">
    <ui:define name="windowTitle">
        #{msgs.loginTitle}
    </ui:define>

    <ui:define name="heading">
        <ui:include src="/sections/professor/header.xhtml"/>
    </ui:define>

    <ui:define name="sidebarLeft">
        <ui:include src="/sections/professor/sidebarLeft.xhtml"/>
    </ui:define>

    <ui:define name="content">
        <h:form>
            <h2>Create Quiz</h2>
            <hr></hr>

            <table>
                <tr>
                    <td>
                        <h:outputText value="Course: "/>
                    </td>
                    <td>
                        <h:selectOneListbox value="#{quizBean.quiz.courseId}" id="ddlCourse" style="height: 60px" >
                            <f:selectItem id="item1" itemLabel="Web Application Architecture" itemValue="1" />
                            <f:selectItem id="item2" itemLabel="Software Engineering" itemValue="2" />

                        </h:selectOneListbox>
                    </td>
                    <td width="50px"></td>
                    <td>
                        <h:outputText value="Start Date Time "/>

                    </td>
                    <td>
                        <p:calendar id="datetimeStart" value="#{quizBean.quiz.endDateTime}" pattern="MM/dd/yyyy HH:mm:ss" />

                    </td>
                    <td></td>
                </tr>
                <tr>
                    <td>
                        <h:outputText value="Quiz Title: "/>

                    </td>
                    <td>
                        <h:inputText id="txtQuizTitle" value="#{quizBean.quiz.quizDescription}" style="width: 190px"/>
                    </td>
                    <td width="50px"></td>
                    <td>
                        <h:outputText value="End Date Time "/>

                    </td>
                    <td>
                        <p:calendar id="datetimeEnd" value="#{quizBean.quiz.endDateTime}" pattern="MM/dd/yyyy HH:mm:ss" />
                        

                    </td>
                    <td></td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td width="50px"></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td width="50px"></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td width="50px"></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td width="50px"></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
            </table>



            <div>

                <div><u><b>Select questions from the list below.</b></u></div>

                <h:dataTable value="#{quizBean.questionList}" var="question" >
                    <h:column>    				
                        <f:facet name="header">Select</f:facet>    	

                        <h:selectManyCheckbox value="#{question.selectedQuestion}">
                            <f:selectItem itemValue="#{question.questionId}"
                                          itemLabel="" >
                            </f:selectItem>
                        </h:selectManyCheckbox>


                    </h:column>
                    <h:column>
                        <f:facet name="header">Mark</f:facet>
                            #{question.mark}
                    </h:column>
                    <h:column>
                        <f:facet name="header">Question</f:facet>
                            #{question.questionDescription}
                    </h:column>
                    <h:column>
                        <f:facet name="header">Created By</f:facet>
                            #{question.enteredBy} 
                    </h:column>

                </h:dataTable>
                <br></br>
                <h:outputText id="questionCount" value="0 question(s) selected."/>
            </div>
            <table>
                <tr>
                    <td style="vertical-align: top; width: 400px;">
                        <h:commandButton value="Save Quiz" action="#{quizBean.createQuiz()}" ></h:commandButton> 
                    </td>
                    <td>
                        <h:dataTable value="#{quizBean.quizList}" var="qz" >

                                        <h:column>
                                            <f:facet name="header">Quiz Title  </f:facet>
                                                #{qz.quizDescription}
                                        </h:column>
                                        <h:column>
                                            <f:facet name="header">Created By</f:facet>
                                                #{qz.enteredBy}
                                        </h:column>
                                    </h:dataTable>
                    </td>
                </tr>
            </table>
                
            

        </h:form>

    </ui:define>
</ui:composition>